{
  "description": "COMPLETE REFERENCE configuration for AortaCFD-Mesh: All parameters with documentation and defaults",
  
  "// COMMENT": "This file shows ALL available parameters. Most are optional with automatic defaults.",
  "// STRUCTURE": "Uses new user-friendly structure that maps to internal OpenFOAM format",
  
  "// ============================================================================",
  "// ENVIRONMENT AND PATHS",
  "// ============================================================================",
  
  "openfoam_env_path": "source /opt/openfoam12/etc/bashrc",
  "// Alternative paths for different installations:",
  "// openfoam_env_path": "source /opt/openfoam11/etc/bashrc",
  "// openfoam_env_path": "source /usr/lib/openfoam/openfoam2312/etc/bashrc",
  
  "// ============================================================================", 
  "// SCALING AND UNITS",
  "// ============================================================================",
  
  "SCALING": {
    "scale_m": 0.001,
    "// EXPLANATION": "Convert input units to meters. 0.001 = mm->m, 1.0 = already in meters"
  },
  
  "// ============================================================================",
  "// MESH SIZING PARAMETERS",
  "// ============================================================================",
  
  "mesh": {
    "base_size_mode": "diameter",
    "// OPTIONS": "diameter, adaptive, fixed_dx",
    
    "cells_per_diameter": 22,
    "// RANGE": "12-40, recommend 18-25 for RANS, 25-35 for LES",
    
    "min_cells_per_throat": 28,
    "// RANGE": "20-50, ensure adequate resolution at smallest constrictions",
    
    "fixed_dx_m": 0.0005,
    "// ONLY USED": "when base_size_mode = fixed_dx"
  },
  
  "// ============================================================================",
  "// SURFACE REFINEMENT",
  "// ============================================================================",
  
  "refinement": {
    "surface_levels": [2, 3],
    "// FORMAT": "[min_level, max_level], each level doubles resolution",
    "// EXAMPLE": "[1,2] = 1x to 4x refinement, [2,3] = 4x to 8x refinement",
    
    "near_band_dx": 8,
    "// MEANING": "Refinement distance = near_band_dx * base_dx",
    
    "far_band_dx": 16, 
    "// MEANING": "Feature capture distance = far_band_dx * base_dx",
    
    "feature_angle": {
      "mode": "adaptive",
      "// OPTIONS": "fixed, adaptive",
      
      "init": 40,
      "// RANGE": "20-60 degrees, lower = capture more features",
      
      "step": 5,
      "// MEANING": "Angle reduction per iteration when adaptive"
    }
  },
  
  "// ============================================================================",
  "// BOUNDARY LAYER CONFIGURATION", 
  "// ============================================================================",
  
  "layers": {
    "n": 6,
    "// RANGE": "3-10 layers, more layers = better near-wall resolution",
    
    "expansion": 1.15,
    "// RANGE": "1.1-1.3, lower = more uniform layers, higher = faster growth",
    
    "relativeSizes": true,
    "// OPTIONS": "true = relative to cell size, false = absolute thickness",
    
    "minThickness": 0.10,
    "// RANGE": "0.05-0.20, minimum layer thickness as fraction of cell size",
    
    "first_layer": {
      "mode": "relative",
      "// OPTIONS": "relative, absolute, y_plus_based",
      
      "t1_rel": 0.20,
      "// RANGE": "0.10-0.40 when relativeSizes=true",
      
      "T_rel": 0.75,
      "// RANGE": "0.60-0.90, total layer thickness relative to cell size",
      
      "t1_abs": 30e-6,
      "// UNITS": "meters, first layer thickness when mode=absolute",
      
      "y_plus_target": 30,
      "// RANGE": "1-100, target y+ when mode=y_plus_based"
    }
  },
  
  "// ============================================================================",
  "// PHYSICS AND FLOW CONDITIONS",
  "// ============================================================================",
  
  "physics": {
    "solver_mode": "RANS",
    "// OPTIONS": "LAMINAR, RANS, LES (affects quality constraints)",
    
    "flow_model": "turbulent", 
    "// OPTIONS": "laminar, turbulent, transitional",
    
    "y_plus": 30,
    "// TYPICAL": "y+ < 1 (LES), y+ = 1-5 (low-Re RANS), y+ = 30-100 (wall functions)",
    
    "U_peak": 0.8,
    "// UNITS": "m/s, peak velocity for layer thickness calculations",
    
    "rho": 1060.0,
    "// UNITS": "kg/m³, blood density ≈ 1060, water = 1000",
    
    "mu": 0.0035,
    "// UNITS": "Pa·s, blood viscosity ≈ 0.0035, water = 0.001",
    
    "use_womersley_bands": true,
    "// MEANING": "Use Womersley number for pulsatile flow refinement",
    
    "heart_rate_hz": 1.25,
    "// UNITS": "Hz, 75 BPM = 1.25 Hz"
  },
  
  "// ============================================================================",
  "// QUALITY ACCEPTANCE CRITERIA",
  "// ============================================================================",
  
  "accept": {
    "maxNonOrtho": 70,
    "// LIMITS": "LAMINAR: 60, RANS: 70, LES: 15, CFX: 95",
    
    "maxSkewness": 4.0,
    "// LIMITS": "LAMINAR: 2.0, RANS: 4.0, LES: 1.5",
    
    "min_layer_coverage": 0.75,
    "// RANGE": "0.60-0.90, fraction of wall surface with boundary layers"
  },
  
  "// ============================================================================",
  "// COMPUTATIONAL RESOURCES",
  "// ============================================================================",
  
  "compute": {
    "procs": 4,
    "// MEANING": "Number of parallel processes, 0 = auto-detect",
    
    "max_memory_gb": 16,
    "// MEANING": "Memory limit, 0 = auto-detect 70% of available",
    
    "cell_budget_kb_per_cell": 1.2,
    "// MEANING": "Memory estimate per cell in KB"
  },
  
  "// ============================================================================",
  "// ITERATION AND OPTIMIZATION CONTROL",
  "// ============================================================================",
  
  "iterations": {
    "max": 3,
    "// RANGE": "1-5, number of refinement iterations",
    
    "ladder": [[1,1], [2,2], [2,3]],
    "// FORMAT": "[[min,max], ...] refinement levels per iteration",
    
    "use_coverage_gated_progression": true,
    "// MEANING": "Only increase refinement if previous coverage > 60%",
    
    "micro_layer_retries": 3,
    "// RANGE": "1-5, number of micro-trials per iteration for layer optimization"
  },
  
  "// ============================================================================",
  "// ADVANCED OPENFOAM PARAMETERS",
  "// ============================================================================",
  
  "advanced": {
    "BLOCKMESH": {
      "resolution": 100,
      "// MEANING": "Background mesh divisions, higher = finer base mesh",
      
      "grading": [1, 1, 1],
      "// FORMAT": "[x, y, z] mesh grading ratios"
    },
    
    "SNAPPY": {
      "maxGlobalCells": 5000000,
      "// MEANING": "Global cell count limit",
      
      "maxLocalCells": 1000000,
      "// MEANING": "Per-processor cell limit",
      
      "nCellsBetweenLevels": 3,
      "// RANGE": "2-8, buffer cells between refinement levels",
      
      "resolveFeatureAngle": 40,
      "// RANGE": "20-60°, angle threshold for feature detection",
      
      "tolerance": 1.5,
      "// RANGE": "1.0-4.0, mesh quality tolerance",
      
      "nSolveIter": 40,
      "// RANGE": "20-100, mesh smoothing iterations",
      
      "nRelaxIter": 8,
      "// RANGE": "5-20, mesh relaxation iterations",
      
      "nFeatureSnapIter": 10,
      "// RANGE": "5-20, feature snapping iterations",
      
      "implicitFeatureSnap": false,
      "explicitFeatureSnap": true,
      "// OPTIONS": "Explicit snapping usually more robust",
      
      "nSmoothPatch": 5,
      "// RANGE": "3-10, patch smoothing iterations"
    },
    
    "LAYERS": {
      "nSurfaceLayers": 6,
      "// RANGE": "3-10, number of boundary layers to add",
      
      "expansionRatio": 1.15,
      "// RANGE": "1.1-1.3, growth ratio between layers",
      
      "nGrow": 0,
      "// RANGE": "0-2, layers to grow before medial axis",
      
      "featureAngle": 60,
      "// RANGE": "45-90°, angle threshold for layer termination",
      
      "maxThicknessToMedialRatio": 0.6,
      "// RANGE": "0.3-0.8, thickness limit relative to medial axis",
      
      "minMedianAxisAngle": 60,
      "// RANGE": "30-90°, minimum angle for medial axis",
      
      "nSmoothSurfaceNormals": 5,
      "// RANGE": "3-15, surface normal smoothing iterations",
      
      "nSmoothNormals": 10,
      "// RANGE": "5-20, normal field smoothing",
      
      "nRelaxIter": 8,
      "// RANGE": "5-20, layer relaxation iterations",
      
      "nLayerIter": 50,
      "// RANGE": "30-100, layer shrinking iterations",
      
      "nRelaxedIter": 20,
      "// RANGE": "10-40, relaxed shrinking iterations",
      
      "maxFaceThicknessRatio": 0.5,
      "// RANGE": "0.3-0.8, face thickness variation limit",
      
      "slipFeatureAngle": 30,
      "// RANGE": "15-45°, slip condition angle threshold",
      
      "nSmoothThickness": 10,
      "// RANGE": "5-20, thickness field smoothing",
      
      "nSmoothDisplacement": 90,
      "// RANGE": "50-150, displacement field smoothing",
      
      "nMedialAxisIter": 10,
      "// RANGE": "5-20, medial axis calculation iterations"
    }
  },
  
  "// ============================================================================",
  "// SURFACE FEATURE EXTRACTION",
  "// ============================================================================",
  
  "SURFACE_FEATURES": {
    "includedAngle": 150,
    "// RANGE": "120-170°, feature edge detection angle"
  },
  
  "// ============================================================================",
  "// STAGE-1 SPECIFIC CONTROLS", 
  "// ============================================================================",
  
  "STAGE1": {
    "use_coverage_gated_progression": true,
    "// MEANING": "Gate refinement on achieving minimum layer coverage",
    
    "autoFirstLayerFromDx": true,
    "// MEANING": "Automatically calculate first layer from cell size",
    
    "max_iterations": 3,
    "// OVERRIDE": "Can override iterations.max at stage level",
    
    "ladder": [[1,1], [2,2], [2,3]],
    "// OVERRIDE": "Can override iterations.ladder at stage level",
    
    "alpha_total_layers": 0.78,
    "// RANGE": "0.5-0.9, total layer thickness as fraction of cell size",
    
    "t1_min_fraction_of_dx": 0.015,
    "// RANGE": "0.01-0.05, minimum first layer as fraction of dx",
    
    "t1_max_fraction_of_dx": 0.08,
    "// RANGE": "0.05-0.15, maximum first layer as fraction of dx",
    
    "band_override": {
      "enabled": true,
      "// MEANING": "Override refinement band calculations",
      
      "near_cells": 8,
      "// MEANING": "Near-surface refinement distance in base cells",
      
      "far_cells": 16
      "// MEANING": "Far-field feature capture distance in base cells"
    }
  },
  
  "// ============================================================================",
  "// PARAMETER PRECEDENCE AND NOTES",
  "// ============================================================================",
  
  "// PARAMETER LOOKUP ORDER": [
    "// 1. STAGE1 section (highest priority)",
    "// 2. Root level mapped values", 
    "// 3. Advanced OpenFOAM sections",
    "// 4. Constants.py defaults (lowest priority)"
  ],
  
  "// SOLVER-SPECIFIC PRESETS": {
    "// LAMINAR": "maxNonOrtho=60, maxSkewness=2.0, min_coverage=0.8",
    "// RANS": "maxNonOrtho=70, maxSkewness=4.0, min_coverage=0.75", 
    "// LES": "maxNonOrtho=15, maxSkewness=1.5, min_coverage=0.85"
  },
  
  "// MEMORY BUDGETING": {
    "// AUTO-CALCULATION": "Based on available system memory",
    "// CELL LIMITS": "Automatically adjusted to fit memory constraints",
    "// PARALLEL SCALING": "Processor count affects per-core memory limits"
  }
}